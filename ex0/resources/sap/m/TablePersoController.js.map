{"version":3,"file":"TablePersoController.js","names":["sap","ui","define","library","TablePersoDialog","ManagedObject","ManagedObjectRegistry","syncStyleClass","Log","jQuery","Configuration","ResetAllMode","TablePersoController","extend","constructor","sId","mSettings","apply","this","arguments","metadata","deprecated","properties","contentWidth","type","contentHeight","since","componentName","hasGrouping","defaultValue","showSelectAll","showResetAll","resetAllMode","Default","aggregations","_tablePersoDialog","multiple","visibility","persoService","associations","table","tables","events","personalizationsDone","onDuplicate","oldController","newController","_sapui_candidateForDestroy","debug","destroy","sMsg","getNoDuplicateIds","error","Error","warning","prototype","init","_schemaProperty","_schemaVersion","_oPersonalizations","_mDelegateMap","_mTablePersMap","_mInitialTableStateMap","_triggersPersDoneEvent","setResetAllMode","_resetAllModeSet","setProperty","exit","_callFunctionForAllTables","proxy","oTable","removeDelegate","_hasTablePersoController","activate","getResetAllMode","_rememberInitialTableStates","_createAndAddDelegateForTable","getTablePersoDialog","getAggregation","applyPersonalizations","oReadPromise","getPersoService","getPersData","that","done","oPersData","_adjustTable","fail","ServiceDefault","oTableOnBeforeRenderingDel","onBeforeRendering","_createTablePersoDialog","bind","addDelegate","oTablePersoDialog","getId","persoDialogFor","persoMap","_getPersoColumnMap","columnInfoCallback","_tableColumnInfo","initialColumnState","getContentWidth","getContentHeight","getHasGrouping","getShowSelectAll","getShowResetAll","ServiceReset","getResetPersData","setShowResetAll","oResetData","_bIsBeingDestroyed","aColumnInfo","aColumns","forEach","oColumnInfo","sGroup","getGroup","getCore","byId","getPersoDialogFor","oColumn","id","group","setInitialColumnState","setAggregation","attachConfirm","retrievePersonalizations","_personalizeTable","savePersonalizations","firePersonalizationsDone","oData","hasOwnProperty","mPersoMap","bDoSaveMigration","c","cl","length","oNewSetting","oTableColumn","info","setVisible","visible","setOrder","order","invalidate","oBundle","oWritePromise","setPersData","refresh","fnRefreshTable","setPersoMap","openDialog","_oDialog","open","setContentWidth","sWidth","setContentHeight","sHeight","setHasGrouping","bHasGrouping","setShowSelectAll","bShowSelectAll","bShowResetAll","setComponentName","sCompName","_getMyComponentName","oControl","getComponentName","oMetadata","getMetadata","getStereotype","_sComponentName","getParent","fnToCall","getAssociation","call","aTables","i","iLength","_isStatic","sUidPrefix","getUIDPrefix","rGeneratedPrefix","RegExp","test","mResult","fnExtractIdSuffix","iLastDashIndex","lastIndexOf","substring","sTableIdSuffix","sNextPersoColumnIdentifier","sComponentName","getColumns","oNextColumn","sNextColumnId","sNextColumnIdSuffix","oPersoMap","oPersoService","sCaption","getCaption","oColHeader","getHeader","getText","getTitle","push","text","getOrder","getVisible","sort","a","b"],"sources":["TablePersoController-dbg.js"],"mappings":"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"}