{"version":3,"file":"CellSelector.js","names":["sap","ui","define","PluginBase","KeyCodes","Core","Element","Log","DIRECTION","ROW","COL","CellSelector","extend","metadata","library","properties","rangeLimit","type","group","defaultValue","events","prototype","isApplicable","apply","this","arguments","getConfig","getControl","onActivate","oControl","addDelegate","_oSession","cellRefs","_mTimeouts","_fnControlUpdate","oEvent","_bScrolling","_scrollSelect","scrollForward","isVertical","_selectCells","bind","_fnOnMouseEnter","_onmouseenter","_fnOnMouseOut","_onmouseout","_fnOnMouseMove","_onmousemove","_fnOnMouseUp","onmouseup","_registerEvents","onDeactivate","removeDelegate","removeSelection","_deregisterEvents","exit","isDestroyed","call","onBeforeRendering","_iRtl","getConfiguration","getRTL","_oResizer","remove","onAfterRendering","attachEvent","oScrollArea","getDomRef","addEventListener","document","detachEvent","removeEventListener","getSelectionRange","_bSelecting","mSelectionRange","_getNormalizedBounds","mSource","mTarget","isNaN","from","rowIndex","to","iMaxColumnIndex","length","colIndex","Math","max","min","getSelectedRowContexts","getRangeLimit","onsapspace","_startSelection","onsapupmodifiers","_onsaparrowmodifiers","onsapdownmodifiers","onsapleftmodifiers","onsaprightmodifiers","sDirectionType","iRowDiff","iColDiff","isMarked","shiftKey","oSelectableCell","_getSelectableCell","target","oInfo","_inSelection","mBounds","focus","_getUpdatedBounds","preventDefault","setMarked","onsaphomemodifiers","onsapendmodifiers","onkeydown","isKeyCombination","A","onkeyup","undefined","SPACE","Infinity","onmousedown","ctrlKey","metaKey","_bMouseDown","_mClickedCell","_updateResizers","clientX","clientY","window","getSelection","removeAllRanges","_bBorderDown","oBorder","border","mDiff","oScrollAreaRef","oScrollAreaRect","getBoundingClientRect","bForward","bVertical","bottom","top","right","left","_doScroll","_clearScroller","scrollTimerId","setTimeout","row","col","sType","mOldFocus","clearTimeout","_onborderdown","Object","assign","_oCurrentBorder","oDomRef","closest","oTarget","oBounds","bMove","oCellInfo","mStart","mFocus","sAdjustRowType","sAdjustColType","mFrom","mTo","_clearSelection","_drawSelection","iRow","iCol","oCellRef","classList","toggle","setAttribute","push","oPrevCellRef","sClass","iPositionX","iPositionY","oResizer","_getResizer","iFromColIndex","oFromRef","oToRef","mOutOfBounds","oFromRect","oToRect","oTableRect","iOffsetLeft","offsetLeft","mStyleMap","x","width","y","height","mDiffMap","mFlags","abs","iDiffX","iDiffY","style","bXinRange","bYinRange","createElement","add","appendChild","forEach","removeAttribute","bKeepBounds","iMaxColumns","iMaxRows","toRowIndex","toColIndex","sKeyCode","bShift","bCtrl","keyCode","setConfigs","selectableCells","scrollArea","scrollEvent","oTable","hasListeners","getSelectionBehavior","getDragDropConfig","some","oConfig","getSourceAggregation","getVisibleColumns","getColumns","filter","oColumn","getRowCount","_getTotalRowCount","getCellRef","mPosition","bRange","aRows","getRows","oRow","find","getIndex","oCell","getCells","$","getCellInfo","closestTo","indexOf","byId","getAttribute","loadContexts","iStartIndex","iLength","oBinding","getBinding","isA","getContexts","rowContexts","iFromIndex","iToIndex","iLimit","iMaxIndex","getAllCurrentContexts","aContexts","i","getContextByIndex","selectRows","iFrom","iTo","iFocus","oSelectionOwner","getPlugin","sSelectionMode","getSelectionMode","addSelectionInterval","setSelected","focusCell","scroll","iFirstVisibleRowIndex","getFirstVisibleRow","iIndex","setFirstVisibleRow","Promise","resolve","oScrollBar","_getScrollExtension","getHorizontalScrollbar","iScrollDiff","pow","scrollLeft"],"sources":["CellSelector-dbg.js"],"mappings":"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"}