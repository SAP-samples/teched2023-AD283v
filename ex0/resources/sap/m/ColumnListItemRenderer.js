/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Renderer","sap/ui/core/library","sap/ui/core/Core","sap/ui/Device","sap/base/Log","./library","./ListItemBaseRenderer"],function(e,t,n,a,l,i,r){"use strict";var s=i.PopinDisplay;var o=t.VerticalAlign;var d=e.extend(r);d.apiVersion=2;d.render=function(e,t){var n=t.getTable();if(!n){return}r.render.apply(this,arguments);if(t.getVisible()&&n.hasPopin()){this.renderPopin(e,t,n)}};d.makeFocusable=function(e){if(a.system.desktop){e.attr("tabindex","-1");e.class("sapMTblCellFocusable")}};d.openStartGridCell=function(e,t,n,a,l){e.openStart(n,a);e.class(l);e.attr("role","gridcell");e.attr("aria-colindex",t.aAriaOwns.push(a));this.makeFocusable(e);if(t.isSelectable()){e.attr("aria-selected",t.getSelected())}return e};d.renderHighlight=function(e,t){e.openStart("td");e.class("sapMListTblHighlightCell");e.attr("role","presentation");e.openEnd();r.renderHighlight.apply(this,arguments);e.close("td")};d.renderNavigated=function(e,t){e.openStart("td");e.class("sapMListTblNavigatedCell");e.attr("role","presentation");e.openEnd();r.renderNavigated.apply(this,arguments);e.close("td")};d.renderType=function(e,t){var n=t.getTable();if(!n||!n.doItemsNeedTypeColumn()){return}this.openStartGridCell(e,t,"td",t.getId()+"-TypeCell","sapMListTblNavCol").openEnd();r.renderType.apply(this,arguments);e.close("td")};d.renderModeContent=function(e,t){this.openStartGridCell(e,t,"td",t.getId()+"-ModeCell","sapMListTblSelCol").openEnd();r.renderModeContent.apply(this,arguments);e.close("td")};d.renderCounter=function(e,t){};d.getAriaRole=function(e){return"row"};d.getAccessbilityPosition=function(e){var t=e.getTable();if(t){var n=t.getVisibleItems().indexOf(e)+t.hasHeaderRow()+1;return{rowindex:n}}};d.renderLIAttributes=function(e,t){e.class("sapMListTblRow");var n=t.getVAlign();if(n!=o.Inherit){e.class("sapMListTblRow"+n)}var a=t.getTable();if(a){if(a.getAlternateRowColors()){e.class("sapMListTblRowAlternate")}}};d.renderLIContentWrapper=function(e,t){var a=t.getTable();if(!a){return}var i=a.getColumns(true),r=t.getCells();t._destroyClonedHeaders();i.forEach(function(i,s){if(!i.getVisible()||i.isHidden()){return}var d=i.getStyleClass().split(" ").filter(Boolean),p=t.getId()+"-cell"+s,u=r[i.getInitialOrder()],c=i.getVAlign(),g=true;this.openStartGridCell(e,t,"td",p,"sapMListTblCell");e.attr("data-sap-ui-column",i.getId());e.style("text-align",i.getCssAlign());d.forEach(function(t){e.class(t)});if(c!=o.Inherit){e.style("vertical-align",c.toLowerCase())}if(u&&!a.hasPopin()&&i.getMergeDuplicates()){var b=i.getMergeFunctionName(),f=b.split("#"),C=f[1],L=f[0];if(typeof u[L]!="function"){l.warning("mergeFunctionName property is defined on "+i+" but this is not function of "+u)}else if(a._bRendering||!u.bOutput){var y=i.getLastValue(),h=u[L](C);if(y===h){g=n.getConfiguration().getAccessibility();u.addStyleClass("sapMListTblCellDupCnt");e.class("sapMListTblCellDup")}else{i.setLastValue(h)}}else if(u.hasStyleClass("sapMListTblCellDupCnt")){e.class("sapMListTblCellDup")}}e.openEnd();if(u&&g){this.applyAriaLabelledBy(i.getHeader(),u,true);e.renderControl(u)}e.close("td")},this)};d.renderDummyCell=function(e,t){e.openStart("td");e.class("sapMListTblDummyCell");e.attr("role","presentation");e.openEnd();e.close("td")};d.applyAriaLabelledBy=function(e,t,n){if(!e||!e.getText||!e.getVisible()||!t.getAriaLabelledBy){return}if(n){t.removeAriaLabelledBy(e)}else if(!t.getAriaLabelledBy().includes(e.getId())){t.addAriaLabelledBy(e)}};d.renderPopin=function(e,t,a){e.openStart("tr",t.getPopin());e.class("sapMListTblSubRow");e.attr("role","none");e.attr("tabindex","-1");e.attr("data-sap-ui-related",t.getId());e.openEnd();this.renderHighlight(e,t);e.openStart("td",t.getId()+"-subcell");e.class("sapMListTblSubRowCell");e.attr("role","none");e.attr("colspan",a.getColCount()-2);e.openEnd();this.openStartGridCell(e,t,"div",t.getId()+"-subcont","sapMListTblSubCnt");e.class("sapMListTblSubCnt"+a.getPopinLayout());e.openEnd();var l=t.getCells(),i=a.getColumns(true);i.forEach(function(i){if(!i.getVisible()||!i.isPopin()){return}var r=l[i.getInitialOrder()];var o=i.getHeader();if(!o&&!r){return}var d=i.getStyleClass().split(" ").filter(Boolean),p=i.getPopinDisplay(),u=o;e.openStart("div");e.class("sapMListTblSubCntRow");if(p==s.Inline){e.class("sapMListTblSubCntRowInline")}d.forEach(function(t){e.class(t)});e.openEnd();if(o&&p!=s.WithoutHeader){e.openStart("div").class("sapMListTblSubCntHdr").openEnd();if(a._aPopinHeaders.indexOf(o)===-1){a._aPopinHeaders.push(u)}o=o.clone();i.addDependent(o);t._addClonedHeader(o);e.renderControl(o);e.openStart("span").class("sapMListTblSubCntSpr");e.attr("data-popin-colon",n.getLibraryResourceBundle("sap.m").getText("TABLE_POPIN_LABEL_COLON"));e.openEnd().close("span");e.close("div")}if(r){e.openStart("div");e.class("sapMListTblSubCntVal");e.class("sapMListTblSubCntVal"+p);e.openEnd();this.applyAriaLabelledBy(u,r);e.renderControl(r);e.close("div")}e.close("div")},this);e.close("div");e.close("td");this.renderNavigated(e,t);e.close("tr")};d.addLegacyOutlineClass=function(e,t){var n=t.getTable();if(n){if(n.hasPopin()||n.shouldRenderDummyColumn()){e.class("sapMTableRowCustomFocus")}}};d.renderContentLatter=function(e,t){var n=t.getTable();if(n&&n.shouldRenderDummyColumn()){if(!n.hasPopin()){r.renderContentLatter.apply(this,arguments);d.renderDummyCell(e,n)}else{d.renderDummyCell(e,n);r.renderContentLatter.apply(this,arguments)}}else{r.renderContentLatter.apply(this,arguments)}};return d},true);
//# sourceMappingURL=ColumnListItemRenderer.js.map