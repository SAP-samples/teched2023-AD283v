{"version":3,"file":"Engine.js","names":["sap","ui","define","AdaptationProvider","merge","Log","FlexModificationHandler","MessageStrip","coreLibrary","Element","DefaultProviderRegistry","UIManager","StateHandlerRegistry","xConfigAPI","ProcessingStrategy","ERROR_INSTANCING","MessageType","_mRegistry","WeakMap","oEngine","Engine","extend","constructor","call","this","Error","_aRegistry","_aStateHandlers","defaultProviderRegistry","getInstance","uimanager","stateHandlerRegistry","prototype","register","oControl","oConfig","hasOwnProperty","oRegistryEntry","_getRegistryEntry","deregister","_createRegistryEntry","aControllerKeys","Object","keys","controller","forEach","sKey","oSubController","getController","indexOf","getId","push","addController","bind","oXConfig","getCustomData","find","oCustomData","getKey","JSON","parse","getValue","replace","modified","fireStateChange","oController","destroy","delete","iControlIndex","splice","show","vPanelKeys","mSettings","hasChanges","catch","oError","then","enableReset","attachStateChange","fnStateEventHandler","attachChange","detachStateChange","detachChange","control","key","changeOperations","getChangeOperations","changeTypes","values","oModificationSetting","_determineModification","getModificationHandler","selector","payload","reset","aKeys","undefined","getRegisteredControllers","Array","aSelectors","concat","getSelectorForReset","oResetConfig","selectors","aChangeTypes","apply","handler","fireChange","initAdaptation","oPropertyHelper","update","applyState","oState","retrieveState","oCurrentState","aStatePromise","aChanges","mInfoState","validateState","Function","externalizeKeys","validation","error","message","sControllerKey","oStatePromise","createChanges","state","sanityCheck","suppressAppliance","applyAbsolute","Promise","all","aRawChanges","mChangeMap","aSpecificChanges","iIndex","length","_processChanges","checkControlInitialized","waitForChanges","oRetrievedState","getCurrentState","_setModificationHandler","vControl","oModificationHandler","isA","modification","_addToQueue","fTask","fCleanupPromiseQueue","pOriginalPromise","pendingModification","mDiffParameters","getControlInstance","vNewState","bSuppressCallback","resolve","fDeltaHandling","aNewState","mChangeOperations","oPriorState","mDeltaConfig","existingState","stateBefore","changedState","getAdaptationControl","deltaAttributes","propertyInfo","helper","getProperties","map","a","name","getDelta","element","isModificationSupported","mChanges","oDiff","changesToState","processChanges","getRTASettingsActionHandler","mPropertyBag","fResolveRTA","aPVs","hasForReference","reject","oOriginalModifHandler","oTemporaryRTAHandler","oRTAPromise","showReset","oContainer","oCustomHeader","getCustomHeader","getContentRight","setVisible","addStyleClass","styleClass","fnAfterClose","attachAfterClose","enhanceXConfig","mEnhanceConfig","currentState","changeType","enhanceConfig","xConfig","readXConfig","readConfig","oInternalState","oExternalState","sInternalKey","getStateKey","internalizeKeys","sInternalRegistryKey","sExternalStateKey","diffState","oOld","oNew","aDiffCreation","oDiffState","FullReplace","i","aState","pInitialize","initialized","checkPropertyHelperInitialized","initPropertyHelper","verifyController","sHelperError","oPreConfig","sController","oRegisteredController","sOperationType","vKey","getUISettings","vKeys","isArray","mUiSettings","aPanelCreation","pAdaptationUI","initAdaptationUI","aPanels","oPanel","panel","isRegistered","isRegisteredForModification","get","has","set","mode","hasVM","hasPP","activeP13n","pendingAppliance","trace","oChange","sType","changeSpecificData","getTrace","oTrace","clearTrace","aPPResults","aVMResults","aPersistenceProvider","sHandlerMode","getMode","sControlType","sControlId","aResults","registry","filter","oElement","aFor","getFor","n","hasControlAncestorWithId","sAncestorControlId","getCore","byId","getParent","hasActiveP13n","setActiveP13n","bModified","usedControllers","validateP13n","oP13nUI","mControllers","oTheoreticalState","model2State","None","oMessageStrip","type","text","setMessageStrip","warning","handleP13n","pChanges","vP13nData","getP13nData","p","aItemChanges","getBeforeApply","aComulatedChanges","aChangeMatrix","aApplyChanges","aTypeChanges","_getRegistry","oRegistry","controlRegistry","arguments"],"sources":["Engine-dbg.js"],"mappings":"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"}