/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/assert","sap/ui/core/Element"],function(t,e){"use strict";var r={},a={};r.mixInto=function(e){t(!e.prototype.unstash,"StashedControlSupport: fnClass already has method 'unstash', sideeffects possible",e.getMetadata().getName());if(e.getMetadata().isA("sap.ui.core.Fragment")||e.getMetadata().isA("sap.ui.core.mvc.View")){throw new Error("Stashing is not supported for sap.ui.coreFragment or sap.ui.core.mvc.View")}n(e)};function n(t){t.prototype.unstash=function(){if(this.isStashed()){var t=o(this);t.stashed=false;return t}return this};t.prototype.isStashed=function(){return!!a[this.getId()]};var e=t.prototype.clone;t.prototype.clone=function(){if(this.isStashed()){throw new Error("A stashed control cannot be cloned, id: '"+this.getId()+"'.")}return e.apply(this,arguments)};var r=t.prototype.destroy;t.prototype.destroy=function(){delete a[this.getId()];r.apply(this,arguments)}}function o(t){var e;var r;var n;var o=a[t.getId()];e=t.getParent();if(e){n=e.getMetadata().getAggregation(t.sParentAggregationName);r=n.indexOf(e,t);n.remove(e,t)}t.destroy();var s=sap.ui.require("sap/ui/core/Component");var i=s&&e&&s.getOwnerComponentFor(e);var p;var u=o.fnCreate;if(i){p=i.runAsOwner(u)}else{p=u()}if(r>=0){p.forEach(function(t){n.insert(e,t,r)})}delete a[t.getId()];return p[0]}function s(t,r){var n=[];for(var o in a){var s=e.getElementById(a[o].wrapperId);var i=t?s:o;var p=s&&s.getParent();if(!r||p&&p.getId()===r){n.push(i)}}return n}r.getStashedControlIds=function(t){return s(false,t)};r.getStashedControls=function(t){return s(true,t)};r.createStashedControl=function(t){var e={wrapperId:t.wrapperId,fnCreate:t.fnCreate};a[t.wrapperId]=e;return e};return r});
//# sourceMappingURL=StashedControlSupport.js.map