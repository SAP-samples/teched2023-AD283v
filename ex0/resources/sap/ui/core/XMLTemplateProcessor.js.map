{"version":3,"file":"XMLTemplateProcessor.js","names":["sap","ui","define","DataType","BindingInfo","CustomData","Component","View","ViewType","XMLProcessingMode","EventHandlerResolver","ExtensionPoint","StashedControlSupport","SyncPromise","Log","ObjectPath","assert","LoaderExtensions","JSTokenizer","each","isEmptyObject","Configuration","Library","parseScalarType","sType","sValue","sName","oContext","oRequireModules","aTypePromises","bResolveTypesAsync","oBindingInfo","oBindingParseResult","parse","push","resolved","bindingInfo","vValue","oType","getType","parseValue","context","locals","isValid","error","getName","Error","escape","localName","xmlNode","nodeName","XHTML_NAMESPACE","XMLNS_NAMESPACE","SVG_NAMESPACE","CORE_NAMESPACE","CORE_MVC_NAMESPACE","CUSTOM_DATA_NAMESPACE","SUPPORT_INFO_NAMESPACE","XML_COMPOSITE_NAMESPACE","UI5_INTERNAL_NAMESPACE","PREPROCESSOR_NAMESPACE_PREFIX","VIEW_SPECIAL_ATTRIBUTES","rVoidTags","getHandleChildrenStrategy","bAsync","fnCallback","syncStrategy","node","mOptions","pChild","aChildren","i","childNodes","length","unwrap","resolve","asyncStrategy","pChain","Promise","aChildPromises","chain","then","bind","all","XMLTemplateProcessor","loadTemplate","sTemplateName","sExtension","sResourceName","replace","loadResource","documentElement","loadTemplatePromise","async","oResult","parseViewAttributes","oView","attr","attributes","includes","name","value","enrichTemplateIds","enrichTemplateIdsPromise","parseTemplate","mSettings","parseTemplatePromise","settings","oParseConfig","vResult","isA","vContent","_isExtensionPoint","aSpliceArgs","concat","_aControls","Array","prototype","splice","apply","validateRequireContext","oRequireContext","sErrorMessage","rIdentifier","Object","keys","some","sKey","test","parseAndLoadRequireContext","sCoreContext","getAttributeNS","oModules","parseJS","e","reject","bAllLoaded","reduce","bAll","require","undefined","values","aLoadedModules","arguments","forEach","requireSync","fnTriggerExtensionPointProvider","oTargetControl","mAggregationsWithExtensionPoints","pProvider","aAppliedExtensionPoints","fnResolveExtensionPoints","sAggregationName","aExtensionPoints","oExtensionPoint","targetControl","fnExtClass","providerClass","applyExtensionPoint","p","ExtensionPointProvider","findNamespacePrefix","namespace","prefix","sCandidate","iCount","sRegisteredNamespace","lookupNamespaceURI","bEnrichFullIds","aResult","sInternalPrefix","pResultChain","rm","openStart","tagName","sId","voidStart","style","class","clazz","openEnd","voidEnd","text","str","unsafeHtml","close","renderControl","pContent","requireContext","mRequireContext","assign","_sProcessingMode","debug","bDesignMode","getDesignMode","_sapui_declarativeSourceInfo","xmlRootNode","_oContainingView","isSubView","setAttributeNS","bWrapped","processNode","resolveResultPromises","vElement","spliceContentIntoResult","args","oWrapper","parentNode","removeChild","replaceChild","identity","createId","createErrorInfo","vError","getMetadata","sNodeSerialization","outerHTML","cloneNode","textContent","getId","normalizeRootNode","sNodeName","namespaceURI","ownerDocument","createElementNS","oOldParent","appendChild","sCurrentName","sViewName","_sFragmentName","oNewRoot","oTopView","iLoopCounter","createRegularControls","getClass","rootArea","rootNode","handleChildren","childNode","nodeType","createControls","findControlClass","sNamespaceURI","sLocalName","sClassName","mLibraries","sLibName","oLibrary","tagNames","getObjectFallback","oClassObject","get","pRequireContext","oClosestBinding","oAggregation","oConfig","bRootArea","bRootNodeInSubView","bRenderingRelevant","pResult","contentBound","bXHTML","getAttribute","aAttributes","sTextContent","document","createElement","oAttr","setAttribute","bVoid","toLowerCase","firstChild","pSelfRequireContext","aContexts","oContent","HTMLTemplateElement","content","closestBinding","aggregation","config","aResults","acc","vControls","isArray","oControl","id","fnCreateView","oViewClass","mViewParameters","containingView","processingMode","fnScopedRunWithOwner","XMLView","createControlOrExtension","trim","oContainer","fnExtensionPointFactory","_factory","aChildControlPromises","children","oChildNode","aChildControl","aDefaultContent","aControls","sControlName","iControlNameStart","lastIndexOf","substring","sNameOrId","warning","vClass","fnClass","oClass","ns","sStyleClasses","aCustomData","mCustomSettings","sSupportData","bStashedControl","bViewRootNode","removeAttribute","oMetadata","mKnownSettings","getAllSettings","aRequiredModules","sNamespace","oInfo","oController","objectBindings","model","mMetaContextsInfo","_calculatedModelMapping","message","metadataContexts","_preprocessMetadataContexts","indexOf","key","startsWith","visible","_iKind","type","hasOwnProperty","nodeValue","altTypes","split","filter","map","aEventHandlers","sEventHandler","vEventHandler","resolveEventHandler","_supportInfo","env","caller","info","customData","catch","oError","isEnriched","SequentialLegacy","handleChild","mAggregations","allAggregations","oNamedAggregation","fnCreateStashedControl","querySelector","oStashedNode","sControlId","createStashedControl","wrapperId","fnCreate","bPrevAsync","setUI5Attribute","path","j","aExtensionPointList","index","aggregationName","closestAggregationBindingCarrier","closestAggregationBinding","oLast","_nextSibling","multiple","template","getElementName","getDefaultAggregation","getAllAggregations","vNewControlInstance","pInstanceCreated","oOwnerComponent","getOwnerComponentFor","bIsAsyncComponent","hasAttribute","setId","fnCreateViewInstance","_sType","viewName","getComponentName","create","_create","JS","sFragmentPath","Fragment","fragmentName","load","oFragmentContent","fnCreateInstance","oInstance","applySettings","fnRunWithPreprocessor","vFinalInstance","addStyleClass","iLength","iSupportIndex","nodeid","controlid","sData","addSupportInfo","getCompositeAggregationName","aNodes","getElementsByTagName","sPrefix","sBinding","bAllowMultipleBindings","oCtx","mBinding","oBinding","checkFormatter","aFragments","formatter","parts","textFragments"],"sources":["XMLTemplateProcessor-dbg.js"],"mappings":";;;;;AAQAA,IAAIC,GAAGC,OAAO,CACb,uBACA,0BACA,yBACA,wBACA,aACA,iBACA,0BACA,6BACA,mBACA,0BACA,0BACA,eACA,2BACA,kBACA,iCACA,4BACA,qBACA,8BACA,4BACA,mBAED,SACCC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA,aAEA,SAASC,EAAgBC,EAAOC,EAAQC,EAAOC,EAAUC,EAAiBC,GACzE,IAAIC,IAAuBD,EAC3B,IAAIE,EAGJ,IAAIC,EAAsB5B,EAAY6B,MAAMR,EAAQE,EAAuB,KAC5C,MAAyB,MAAyB,MAChFC,EAGAE,GAGD,GAAIA,GAAsBE,EAAqB,CAC9CH,EAAcK,KAAKF,EAAoBG,UACvCJ,EAAeC,EAAoBI,WACpC,KAAO,CACNL,EAAeC,CAChB,CAEA,GAAKD,UAAuBA,IAAiB,SAAW,CACvD,OAAOA,CACR,CAEA,IAAIM,EAASZ,SAAgBM,IAAiB,SAAWA,EAAeN,EACxE,IAAIa,EAAQnC,EAASoC,QAAQf,GAC7B,GAAIc,EAAO,CACV,GAAIA,aAAiBnC,EAAU,CAC9BkC,EAASC,EAAME,WAAWf,EAAQ,CACjCgB,QAASd,EACTe,OAAQd,IAIT,IAAKU,EAAMK,QAAQN,GAAS,CAC3BvB,EAAI8B,MAAM,UAAYnB,EAAS,4BAA8Ba,EAAMO,UAAY,KAChF,CACD,CAED,KAAO,CACN,MAAM,IAAIC,MAAM,YAAcpB,EAAQ,qBAAuBF,EAC9D,CAGA,cAAca,IAAW,SAAWjC,EAAY2C,OAAOV,GAAUA,CAClE,CAEA,SAASW,EAAUC,GAElB,OAAOA,EAAQD,WAAaC,EAAQC,QACrC,CASA,IAAIC,EAAkB,+BAOtB,IAAIC,EAAkB,gCAStB,IAAIC,EAAgB,6BAUpB,IAAIC,EAAiB,cASrB,IAAIC,EAAqB,kBAUzB,IAAIC,EAAwB,mEAO5B,IAAIC,EAAyB,6EAQ7B,IAAIC,EAA0B,qEAU9B,IAAIC,EAAyB,iEAQ7B,IAAIC,EAAgC,uDASpC,IAAIC,EAA0B,CAAC,iBAAkB,qBAAsB,oBAAqB,uBAAwB,uBAMpH,IAAIC,EAAY,6EAShB,SAASC,EAA0BC,EAAQC,GAG1C,SAASC,EAAaC,EAAMC,GAC3B,IAAIC,EACHC,EAAY,GAEb,IAAK,IAAIC,EAAI,EAAGA,EAAIJ,EAAKK,WAAWC,OAAQF,IAAK,CAChDF,EAASJ,EAAWE,EAAMA,EAAKK,WAAWD,GAAIH,GAC9C,GAAIC,EAAQ,CACXC,EAAUpC,KAAKmC,EAAOK,SACvB,CACD,CACA,OAAO7D,EAAY8D,QAAQL,EAC5B,CAGA,SAASM,EAAcT,EAAMC,GAC5B,IAAIS,EAASC,QAAQH,UACpBI,EAAiB,CAACX,EAASY,OAE5B,IAAK,IAAIT,EAAI,EAAGA,EAAIJ,EAAKK,WAAWC,OAAQF,IAAK,CAChDM,EAASA,EAAOI,KAAKhB,EAAWiB,KAAK,KAAMf,EAAMA,EAAKK,WAAWD,GAAIH,IACrEW,EAAe7C,KAAK2C,EACrB,CACA,OAAOC,QAAQK,IAAIJ,EACpB,CAEA,OAAOf,EAASY,EAAgBV,CACjC,CAQA,IAAIkB,EAAuB,CAAC,EAa5BA,EAAqBC,aAAe,SAASC,EAAeC,GAC3D,IAAIC,EAAgBF,EAAcG,QAAQ,MAAO,MAAQ,KAAOF,GAAc,QAAU,QACxF,OAAOtE,EAAiByE,aAAaF,GAAeG,eACrD,EAWAP,EAAqBQ,oBAAsB,SAASN,EAAeC,GAClE,IAAIC,EAAgBF,EAAcG,QAAQ,MAAO,MAAQ,KAAOF,GAAc,QAAU,QACxF,OAAOtE,EAAiByE,aAAaF,EAAe,CAACK,MAAO,OAAOZ,KAAK,SAAUa,GACjF,OAAOA,EAAQH,eAChB,EACD,EAUAP,EAAqBW,oBAAsB,SAAS9C,EAAS+C,GAC5D,IAAIzB,EAAG0B,EACP,IAAM1B,EAAI,EAAGA,EAAItB,EAAQiD,WAAWzB,OAAQF,IAAK,CAChD0B,EAAOhD,EAAQiD,WAAW3B,GAC1B,GAAIV,EAAwBsC,SAASF,EAAKG,MAAO,CAChDJ,EAAM,IAAMC,EAAKG,MAAQH,EAAKI,KAC/B,CACD,CACD,EAUAjB,EAAqBkB,kBAAoB,SAASrD,EAAS+C,GAC1DZ,EAAqBmB,yBAAyBtD,EAAS+C,EAAO,OAC9D,OAAO/C,CACR,EAWAmC,EAAqBmB,yBAA2B,SAAUtD,EAAS+C,EAAOhC,GACzE,OAAOwC,EAAcvD,EAAS+C,EAAO,KAAMhC,GAAQiB,KAAK,WACvD,OAAOhC,CACR,EACD,EAUAmC,EAAqBoB,cAAgB,SAASvD,EAAS+C,EAAOS,GAC7D,OAAOrB,EAAqBsB,qBAAqBzD,EAAS+C,EAAO,MAAO,CAAEW,SAAUF,IAAa/B,QAClG,EAYAU,EAAqBsB,qBAAuB,SAASzD,EAAS+C,EAAOhC,EAAQ4C,GAC5E,OAAOJ,EAAcvD,EAAS+C,EAAO,MAAOhC,EAAQ4C,GAAc3B,KAAK,SAAS4B,GAS/E,GAAIb,EAAMc,IAAI,wBAAyB,CACtC,IAAIC,EAAUxC,EAId,IAAKA,EAAIsC,EAAQpC,OAAS,EAAGF,GAAK,EAAGA,IAAK,CACzCwC,EAAWF,EAAQtC,GAEnB,GAAIwC,GAAYA,EAASC,kBAAmB,CAC3C,IAAIC,EAAc,CAAC1C,EAAG,GAAG2C,OAAOH,EAASI,YACzCC,MAAMC,UAAUC,OAAOC,MAAMV,EAASI,EACvC,CACD,CACD,CAEA,OAAOJ,CACR,EACD,EAWA,SAASW,EAAuBC,GAC/B,IAAIC,EACHC,EAAc,6BAEf,IAAKF,UAA0BA,IAAoB,SAAU,CAC5DC,EAAgB,2DACjB,KAAO,CACNE,OAAOC,KAAKJ,GAAiBK,KAAK,SAASC,GAC1C,IAAKJ,EAAYK,KAAKD,GAAO,CAE5BL,EAAgB,yDACbK,EAAO,IACV,OAAO,IACR,CAEA,IAAKN,EAAgBM,WAAgBN,EAAgBM,KAAU,SAAU,CAExEL,EAAgB,mDACbD,EAAgBM,GAAQ,eAAiBA,EAAO,IACnD,OAAO,IACR,CACA,OAAO,KACR,EACD,CAEA,OAAOL,CACR,CAYA,SAASO,EAA2BhF,EAASe,GAC5C,IAAIkE,EAAejF,EAAQkF,eAAe7E,EAAgB,WACzDmE,EACAW,EACAV,EAED,GAAIQ,EAAc,CACjB,IACCT,EAAkBvG,EAAYmH,QAAQH,EACvC,CAAE,MAAOI,GACRxH,EAAI8B,MAAM,8CAA+CK,EAAQC,UACjE,MAAMoF,CACP,CAEAZ,EAAgBF,EAAuBC,GACvC,GAAIC,EAAe,CAClB,MAAM,IAAI5E,MAAM4E,EAAgB,aAAezE,EAAQC,SACxD,CAEA,IAAK9B,EAAcqG,GAAkB,CACpCW,EAAW,CAAC,EACZ,GAAIpE,EAAQ,CACX,OAAO,IAAIc,QAAQ,SAASH,EAAS4D,GAEpC,IAAIC,EAAaZ,OAAOC,KAAKJ,GAAiBgB,OAAO,SAASC,EAAMX,GACnEK,EAASL,GAAQ/H,IAAIC,GAAG0I,QAAQlB,EAAgBM,IAChD,OAAOW,GAAQN,EAASL,KAAUa,SACnC,EAAG,MACH,GAAKJ,EAAa,CACjB7D,EAAQyD,GACR,MACD,CAEApI,IAAIC,GAAG0I,QAAQf,OAAOiB,OAAOpB,GAAkB,WAC9C,IAAIqB,EAAiBC,UACrBnB,OAAOC,KAAKJ,GAAiBuB,QAAQ,SAASjB,EAAMxD,GACnD6D,EAASL,GAAQe,EAAevE,EACjC,GACAI,EAAQyD,EACT,EAAGG,EACJ,EACD,KAAO,CACNX,OAAOC,KAAKJ,GAAiBuB,QAAQ,SAASjB,GAC7CK,EAASL,GAAQ/H,IAAIC,GAAGgJ,YAAYxB,EAAgBM,GACrD,GAEA,OAAOlH,EAAY8D,QAAQyD,EAC5B,CACD,CACD,CACD,CAEA,SAASc,EAAgClF,EAAQmF,EAAgBC,GAChE,IAAIC,EAAYxI,EAAY8D,UAG5B,IAAKvD,EAAcgI,GAAmC,CACrD,IAAIE,EAA0B,GAI9B,IAAIC,EACJ,GAAIvF,EAAQ,CACXqF,EAAY,IAAIvE,QAAQ,SAASH,GAChC4E,EAA2B5E,CAC5B,EACD,CAEAiD,OAAOC,KAAKuB,GAAkCJ,QAAQ,SAASQ,GAC9D,IAAIC,EAAmBL,EAAiCI,GAExDC,EAAiBT,QAAQ,SAASU,GACjCA,EAAgBC,cAAgBR,EAEhC,IAAIS,EAAa5J,IAAIC,GAAG0I,QAAQe,EAAgBG,eAGhD,GAAID,EAAY,CACfN,EAAwBpH,KAAK0H,EAAWE,oBAAoBJ,GAC7D,KAAO,CAEN,IAAIK,EAAI,IAAIjF,QAAQ,SAASH,EAAS4D,GACrCvI,IAAIC,GAAG0I,QAAQ,CAACe,EAAgBG,eAAgB,SAASG,GACxDrF,EAAQqF,EACT,EAAGzB,EACJ,GAAGtD,KAAK,SAAS+E,GAChB,OAAOA,EAAuBF,oBAAoBJ,EACnD,GAEAJ,EAAwBpH,KAAK6H,EAC9B,CACD,EACD,GAGA,GAAI/F,EAAQ,CACXc,QAAQK,IAAImE,GAAyBrE,KAAKsE,EAC3C,CACD,CACA,OAAOF,CACR,CAEA,SAASY,EAAoB9F,EAAM+F,EAAWC,GAC7C,IAAIC,EAAaD,EACjB,IAAK,IAAIE,EAAS,EAAGA,EAAS,IAAKA,IAAU,CAC5C,IAAIC,EAAuBnG,EAAKoG,mBAAmBH,GACnD,GAAIE,GAAwB,MAAQA,IAAyBJ,EAAW,CACvE,OAAOE,CACR,CACAA,EAAaD,EAASE,CACvB,CACA,MAAM,IAAIvH,MAAM,uEACjB,CAgBA,SAAS0D,EAAcvD,EAAS+C,EAAOwE,EAAgBxG,EAAQ4C,GAG9D,IAAI6D,EAAU,GACbC,EAAkBT,EAAoBhH,EAASU,EAAwB,SACvEgH,EAAe1C,EAA2BhF,EAASe,IAAWnD,EAAY8D,UAC1EiG,EAAK,CACJC,UAAW,SAASC,EAASC,GAC5BN,EAAQvI,KAAK,CAAC,YAAa,CAAC4I,EAASC,IACtC,EACAC,UAAW,SAASF,EAASC,GAC5BN,EAAQvI,KAAK,CAAC,YAAa,CAAC4I,EAASC,IACtC,EACAE,MAAO,SAAS7E,EAAMC,GACrBoE,EAAQvI,KAAK,CAAC,QAAS,CAACkE,EAAMC,IAC/B,EACA6E,MAAS,SAASC,GACjBV,EAAQvI,KAAK,CAAC,QAAS,CAACiJ,IACzB,EACAlF,KAAM,SAASG,EAAMC,GACpBoE,EAAQvI,KAAK,CAAC,OAAQ,CAACkE,EAAMC,IAC9B,EACA+E,QAAS,WACRX,EAAQvI,KAAK,CAAC,WACf,EACAmJ,QAAS,WACRZ,EAAQvI,KAAK,CAAC,WACf,EACAoJ,KAAM,SAASC,GACdd,EAAQvI,KAAK,CAAC,OAAQ,CAACqJ,IACxB,EACAC,WAAY,SAASD,GACpBd,EAAQvI,KAAK,CAAC,aAAc,CAACqJ,IAC9B,EACAE,MAAO,SAASX,GACfL,EAAQvI,KAAK,CAAC,QAAS,CAAC4I,IACzB,EACAY,cAAe,SAASC,GACvBlB,EAAQvI,KAAKyJ,EACd,GAQF,GAAI/E,GAAcD,UAAUiF,eAAgB,CAC3CjB,EAAeA,EAAa1F,KAAM4G,GAC1BjE,OAAOkE,OAAO,CAAC,EAAGlF,EAAaD,SAASiF,eAAgBC,GAEjE,CAEA7H,EAASA,KAAYgC,EAAM+F,iBAC3BjL,EAAIkL,MAAM,2BAA6BhG,EAAM+F,kBAAoB,WAAa,IAAK,GAAI,wBACvFjL,EAAIkL,MAAM,0BAA4BhI,EAAS,iBAAmB,iBAAmB,IAAK,GAAI,wBAE9F,IAAIiI,EAAc5K,EAAc6K,gBAChC,GAAID,EAAa,CAChBjG,EAAMmG,6BAA+B,CAEpClJ,QAASA,EAETmJ,YAAapG,EAAMqG,mBAAqBrG,EAAQ/C,EAC/C+C,EAAMqG,iBAAiBF,6BAA6BC,YAEvD,CACA,IAAKpG,EAAMsG,YAAa,CAEvBrJ,EAAQsJ,eAAenJ,EAAiB,SAAWsH,EAAiB/G,EACrE,CAEA,IAAI6I,EAAWC,GAAYxJ,EAAS0H,GAOpC,IAAIpG,EAAI,EACR,SAASmI,IACR,KAA6CnI,EAAIkG,EAAQhG,OAAQF,IAAK,CACrE,IAAIoI,EAAWlC,EAAQlG,GACvB,GAAIoI,UAAmBA,EAAS1H,OAAS,WAAY,CACpD,OAAO0H,EAEL1H,KAAK2H,GAEL3H,KAAKyH,EACR,CACD,CACA,OAAOjC,CACR,CAGA,SAASmC,EAAwB7F,GAEhC,IAAI8F,EAAO,CAACtI,EAAG,GAAG2C,OAAOH,GACzBK,MAAMC,UAAUC,OAAOC,MAAMkD,EAASoC,EACvC,CAMA,OAAOlC,EACL1F,KAAKyH,GACLzH,KAAK,SAASwF,GAEd,GAAI+B,EAAU,CACb,IAAIM,EAAW7J,EAAQ8J,WACvBD,EAASE,YAAY/J,GAErB,GAAI6J,EAASC,WAAY,CACxBD,EAASC,WAAWE,aAAahK,EAAS6J,EAC3C,CACD,CACA,OAAOrC,CACR,GAED,SAASyC,EAASnC,GACjB,OAAOA,CACR,CAEA,SAASoC,EAASpC,GACjB,OAAO/E,EAAMqG,iBAAiBc,SAASpC,EACxC,CAEA,SAASqC,EAAgBjJ,EAAMkJ,GAC9B,IAAI7L,EAAQwE,EAAMsH,cAAcxG,IAAI,wBAA0B,OAAS,WACvE,IAAIyG,EAAqBpJ,EAAKqJ,UAAYrJ,EAAKsJ,UAAU,OAAOD,UAAYrJ,EAAKuJ,YAEjF,MAAO,kBAAoBlM,EAAQ,UAAYwE,EAAM2H,QAAU,mBAAqBJ,EAAqB,OAASF,CACnH,CAEA,SAASO,EAAkBzJ,GAC1B,IAAI0J,EAAY7K,EAAUmB,GACzB2I,EAID,GAAI9G,EAAMc,IAAI,6BAA+B3C,EAAK2J,eAAiB3K,GAAmBgB,EAAK2J,eAAiBzK,GAAgB,CAG3HyJ,EAAW3I,EAAK4J,cAAcC,gBAAgBzK,EAAoB,OACnE,MAAO,GAAIyC,EAAMc,IAAI,0BAA4B+G,IAAc,sBAAwB1J,EAAK2J,eAAiBxK,GAAiB,CAE7HwJ,EAAW3I,EAAK4J,cAAcC,gBAAgB1K,EAAgB,qBAC/D,CAEA,GAAIwJ,EAAU,CACb,IAAImB,EAAa9J,EAAK4I,WAEtB,GAAIkB,EAAY,CACfA,EAAWhB,aAAaH,EAAU3I,EACnC,CACA2I,EAASoB,YAAY/J,EACtB,CAEA,OAAO2I,CACR,CAEA,SAASL,GAAYtI,EAAMU,GAC1B,IAAI2H,EAAW,MACd2B,EAAenI,EAAMoI,WAAapI,EAAMqI,eACxCC,EAAUT,EAEX,IAAKM,EAAc,CAClB,IAAII,EAAWvI,EACf,IAAIwI,EAAe,EACnB,QAASA,EAAe,KAAQD,GAAYA,IAAaA,EAASlC,iBAAkB,CACnFkC,EAAWA,EAASlC,gBACrB,CACA8B,EAAeI,EAASH,SACzB,CAEAE,EAAWV,EAAkBzJ,GAC7B,GAAImK,EAAU,CACbnK,EAAOmK,EACP9B,EAAW,IACZ,CAEAqB,EAAY7K,EAAUmB,GACtB,GAAI6B,EAAMc,IAAI,2BAA4B,CACzC,GAAK+G,IAAc,QAAUA,IAAc,WAAc1J,EAAK2J,eAAiBvK,EAAoB,CAClGzC,EAAI8B,MAAM,4FAA8FuL,EAAe,gBAAkBA,EAAe,IAAM,IAC/J,CAEAxD,EAAe9F,EAAOI,KAAK,WAC1B,OAAOwJ,GAAsBtK,EAAM6B,EAAMsH,cAAcoB,WAAY7J,EAAQ,KAAM,CAAE8J,SAAU,KAAMC,SAAU,MAC9G,EACD,KAAO,CACN,IAAIC,EAAiB9K,EAA0BC,EAAQ,SAASG,EAAM2K,EAAW1K,GAChF,GAAI0K,EAAUC,WAAa,EAAqB,CAC/C,OAAOC,GAAeF,EAAW1K,EAASY,MAAO,KAA0B4D,UAAiC,CAAE+F,SAAU,MACzH,CACD,GAEAhE,EAAe9F,EAAOI,KAAK,WAC1B,OAAO4J,EAAe1K,EAAM,CAC3Ba,MAAOH,GAET,EAED,CACA,OAAO2H,CACR,CAUA,SAASyC,GAAiBC,EAAeC,GACxC,IAAIC,EACJ,IAAIC,EAAa/N,EAAQ6D,MACzBhE,EAAKkO,EAAY,SAASC,EAAUC,GACnC,GAAKL,IAAkBK,EAASrF,WAAagF,IAAkBK,EAASnJ,KAAO,CAC9EgJ,EAAaG,EAASnJ,KAAO,KAAQmJ,EAASC,UAAYD,EAASC,SAASL,IAAgBA,EAC7F,CACD,GAEAC,EAAaA,GAAcF,EAAgB,IAAMC,EAGjD,SAASM,EAAkBC,GAG1B,IAAKA,EAAc,CAClB5O,EAAI8B,MAAM,YAAcwM,EAAa,0DAA2D,GAAI,wBACpGM,EAAe3O,EAAW4O,IAAIP,EAC/B,CACA,IAAKM,EAAc,CAClB5O,EAAI8B,MAAM,4BAA8BwM,EAAa,iBAAkB,GAAI,uBAC5E,CACA,OAAOM,CACR,CAEA,IAAIlK,EAAgB4J,EAAW3J,QAAQ,MAAO,KAC9C,IAAIiK,EAAe1P,IAAIC,GAAG0I,QAAQnD,GAClC,IAAKkK,EAAc,CAClB,GAAI1L,EAAQ,CACX,OAAO,IAAIc,QAAQ,SAASH,EAAS4D,GACpCvI,IAAIC,GAAG0I,QAAQ,CAACnD,GAAgB,SAASkK,GACxCA,EAAeD,EAAkBC,GACjC/K,EAAQ+K,EACT,EAAGnH,EACJ,EACD,KAAO,CACNmH,EAAe1P,IAAIC,GAAGgJ,YAAYzD,GAClCkK,EAAeD,EAAkBC,EAClC,CACD,CACA,OAAOA,CACR,CAkBA,SAASV,GAAe7K,EAAMyL,EAAiBC,EAAiBC,EAAcC,GAC7E,IAAIC,EAAYD,GAAWA,EAAQpB,SAClCsB,EAAqBF,GAAWA,EAAQnB,UAAY5I,EAAMsG,YAC1D6C,EAAanM,EAAUmB,GACvB+L,EAAqBF,IAAchK,EAAMc,IAAI,yBAA4BgJ,GAAgBA,EAAa1J,OAAS,WAC/G+J,EAAS5L,EAEV,GAAKJ,EAAK4K,WAAa,EAAuB,CAE7C,GAAI5K,EAAK2J,eAAiB3K,GAAmBgB,EAAK2J,eAAiBzK,EAAgB,CAClF,GAAI2M,EAAW,CACd,GAAIF,GAAgBA,EAAa1J,OAAS,UAAW,CACpDtF,EAAI8B,MAAMwK,EAAgBjJ,EAAM,8EAAgF2L,EAAa1J,KAAO,mBACpI,OAAOvF,EAAY8D,QAAQ,GAC5B,CAEA,GAAIoL,GAAWA,EAAQK,aAAc,CACpC,MAAM,IAAItN,MAAMsK,EAAgBjJ,EAAM,+EACvC,CAEA,IAAIkM,EAASlM,EAAK2J,eAAiB3K,EAGnC,IAAI4H,EAAM5G,EAAKmM,aAAa,MAC5B,GAAKvF,GAAO,KAAO,CAClBA,EAAM4C,GAAM3H,EAAO7B,EACpB,KAAO,CACN4G,EAAMkF,EAAqBjK,EAAM2H,QAAU/E,SAC5C,CAEA,GAAKuG,IAAe,QAAU,CAM7B,IAAIoB,EAAcpM,EAAK+B,WACvB,IAAIsK,EAAerM,EAAKuJ,YAGxBvJ,EAAOsM,SAASC,cAAcvB,GAC9BhL,EAAKuJ,YAAc8C,EAInB,IAAKjM,EAAI,EAAGA,EAAIgM,EAAY9L,OAAQF,IAAK,CACxC,IAAIoM,EAAQJ,EAAYhM,GACxB,IAAKoM,EAAMxG,OAAQ,CAClBhG,EAAKyM,aAAaD,EAAMvK,KAAMuK,EAAMtK,MACrC,CACD,CAGA,GAAK0E,GAAO,KAAO,CAClB5G,EAAKyM,aAAa,KAAM7F,EACzB,CACA,GAAKkF,EAAqB,CACzB9L,EAAKyM,aAAa,uBAAwB5K,EAAM2H,QACjD,CACA/C,EAAGY,WAAWrH,EAAKqJ,WACnB,OAAO3M,EAAY8D,QAAQ,GAC5B,CAEA,IAAIkM,EAAQ/M,EAAUkE,KAAKmH,GAC3B,GAAK0B,EAAQ,CACZjG,EAAGI,UAAUmE,EAAYpE,EAC1B,KAAO,CACNH,EAAGC,UAAUsE,EAAYpE,EAC1B,CAEA,IAAKxG,EAAI,EAAGA,EAAIJ,EAAK+B,WAAWzB,OAAQF,IAAK,CAC5C,IAAI0B,EAAO9B,EAAK+B,WAAW3B,GAE3B,GAAK0B,EAAKG,OAAS,OAASH,EAAKjD,YAAc,WAAaiD,EAAK6H,eAAiBxK,GAAiB,CAClGsH,EAAG3E,KAAKoK,EAASpK,EAAKG,KAAK0K,cAAgB7K,EAAKG,KAAMH,EAAKI,MAC5D,CACD,CACA,GAAK4J,EAAqB,CACzBrF,EAAG3E,KAAK,uBAAwBD,EAAM2H,QACvC,CACA,GAAKkD,EAAQ,CACZjG,EAAGS,UACH,GAAKlH,EAAK4M,WAAa,CACtBjQ,EAAI8B,MAAM,iCAAmCuM,EAAa,oBAC3D,CACD,KAAO,CACNvE,EAAGQ,UAEH,IAAI4F,EAAsB/I,EAA2B9D,EAAMH,GAE3D,GAAIgN,EAAqB,CACxBpB,EAAkB/O,EAAYsE,IAAI,CAACyK,EAAiBoB,IAClD/L,KAAK,SAASgM,GACd,OAAOrJ,OAAOkE,OAAO,CAAC,KAAMmF,EAC7B,EACF,CAIA,IAAIC,EAAW/M,aAAgBgN,oBAAsBhN,EAAKiN,QAAUjN,EAEpE,IAAI0K,EAAiB9K,EAA0BC,EAAQ,SAAUG,EAAM2K,EAAW1K,GACjF,OAAO4K,GAAeF,EAAW1K,EAASY,MAAOZ,EAASiN,eAAgBjN,EAASkN,YAAalN,EAASmN,OAC1G,GAEApB,EAAUtB,EAAeqC,EAAU,CAClClM,MAAO4K,EACPyB,eAAgBxB,EAChByB,YAAaxB,EACbyB,OAAQ,CAAE5C,SAAUqB,KAIrB,OAAOG,EAAQlL,KAAK,SAASuM,GAC5B5G,EAAGa,MAAM0D,GAMT,OAAOqC,EAAS/I,OAAO,SAASgJ,EAAKC,GACpC,GAAItK,MAAMuK,QAAQD,GAAY,CAC7BA,EAAU1I,QAAQ,SAAS4I,GAC1BH,EAAIvP,KAAK0P,EACV,EACD,CACA,OAAOH,CACR,EAAG,GACJ,EACD,CACD,KAAO,CACN,IAAII,EAAK1N,EAAK+B,WAAW,MAAQ/B,EAAK+B,WAAW,MAAMwH,aAAevJ,EAAK+B,WAAW,MAAMoF,KAAO,KAEnG,GAAId,EAAgB,CACnB,OAAOpF,EAAqBmB,yBAAyBpC,EAAM6B,EAAOhC,GAAQiB,KAAK,WAE9E,MAAO,EACR,EACD,KAAO,CAGN,IAAI6M,EAAe,SAAUC,EAAYtK,GACxC,IAAIuK,EAAkB,CACrBH,GAAIA,EAAKlE,GAAM3H,EAAO7B,EAAM0N,GAAMjJ,UAClC3F,QAASkB,EACTyH,eAAgBnE,EAChBwK,eAAgBjM,EAAMqG,iBACtB6F,eAAgBlM,EAAM+F,kBAGvB,GAAI/F,EAAMmM,qBAAsB,CAC/B,OAAOnM,EAAMmM,qBAAqB,WACjC,OAAO,IAAIJ,EAAWC,EACvB,EACD,CAGA,OAAO,IAAID,EAAWC,EACvB,EAEA,OAAOpC,EAAgB3K,KAAK,SAASwC,GACpC,GAAIzD,EAAQ,CACX,OAAO,IAAIc,QAAQ,SAAUH,EAAS4D,GACrCvI,IAAIC,GAAG0I,QAAQ,CAAC,2BAA4B,SAASyJ,GACpDzN,EAAQ,CAACmN,EAAaM,EAAS3K,IAChC,EAAGc,EACJ,EACD,KAAO,CACN,IAAI6J,EAAUpS,IAAIC,GAAGgJ,YAAY,2BACjC,MAAO,CAAC6I,EAAaM,EAAS3K,GAC/B,CACD,EACD,CACD,CAED,KAAQ,CACP0I,EAAUkC,GAAyBlO,EAAMyL,EAAiBC,GAC1D,GAAIK,EAAoB,CACvBtF,EAAGc,cAAcyE,EAClB,CAIA,OAAOA,CACR,CACD,MAAO,GAAIhM,EAAK4K,WAAa,GAAqBmB,EAAoB,CACrE,IAAKH,IAAYA,EAAQK,aAAc,CAEtCxF,EAAGU,KAAKnH,EAAKuJ,YACd,MAAO,GAAIvJ,EAAKuJ,YAAY4E,OAAQ,CACnC,MAAM,IAAIxP,MAAMsK,EAAgBjJ,EAAM,uEACvC,CACD,CAEA,OAAOtD,EAAY8D,QAAQ,GAC5B,CAeA,SAAS0N,GAAyBlO,EAAMyL,EAAiBC,GAExD,GAAI7M,EAAUmB,KAAU,kBAAoBA,EAAK2J,eAAiBxK,EAAgB,CAEjF,GAAIkH,EAAgB,CAGnB,OAAO3J,EAAY8D,QAAQ,GAC5B,KAAO,CAGN,IAAI4N,EAAavM,aAAiBzF,EAAOyF,EAAMqG,iBAAmBrG,EAIlE,IAAIwM,EAA0B7R,EAAe8R,SAASvN,KAAK,KAAMqN,EAAYpO,EAAKmM,aAAa,QAAS,WAEvG,IAAIjM,EAASxD,EAAY8D,UACzB,IAAI+N,EAAwB,GAC5B,IAAIC,EAAWxO,EAAKK,WACpB,IAAK,IAAID,EAAI,EAAGA,EAAIoO,EAASlO,OAAQF,IAAK,CACzC,IAAIqO,EAAaD,EAASpO,GAC1B,GAAIqO,EAAW7D,WAAa,EAAsB,CAEjD1K,EAASA,EAAOY,KAAK+J,GAAe9J,KAAK,KAAM0N,EAAYhD,EAAiBC,IAC5E6C,EAAsBxQ,KAAKmC,EAC5B,CACD,CAEA,OAAOxD,EAAYsE,IAAIuN,GAAuBzN,KAAK,SAAS4N,GAC3D,IAAIC,EAAkB,GACtBD,EAAc7J,QAAQ,SAAS+J,GAC9BD,EAAkBA,EAAgB5L,OAAO6L,EAC1C,GACA,OAAOD,CACR,EACD,EAAGlK,UAAiCA,UAAmC5E,GAEvE,OAAOnD,EAAY8D,QAAQqB,EAAMmM,qBAAuBnM,EAAMmM,qBAAqBK,GAA2BA,IAC/G,CAED,KAAO,CAEN,IAAIrD,EAAanM,EAAUmB,GAI3B,IAAI6O,EAAe7D,EACnB,IAAI8D,EAAoB9D,EAAW+D,YAAY,KAC/C,GAAID,GAAqB,EAAG,CAC3BD,EAAe7D,EAAWgE,UAAUF,EAAoB,EAAG9D,EAAW1K,OACvE,CACA,GAAI,WAAWuD,KAAKgL,GAAe,CAClC,IAAII,EAAYpN,EAAMoI,WAAapI,EAAMqI,gBAAkBrI,EAAM2H,QAEjE7M,EAAIuS,QAAQ,qBAAuBD,EAAY,yDAA2DJ,EAAe,IACxHhN,EAAM2H,QACN,6CAEF,CAGA,IAAI2F,EAASrE,GAAiB9K,EAAK2J,aAAcqB,GACjD,GAAImE,UAAiBA,EAAOrO,OAAS,WAAY,CAChD,OAAOqO,EAAOrO,KAAK,SAAUsO,GAC5B,OAAO9E,GAAsBtK,EAAMoP,EAAS3D,EAAiBC,EAC9D,EACD,KAAO,CAEN,OAAOpB,GAAsBtK,EAAMmP,EAAQ1D,EAAiBC,EAC7D,CACD,CACD,CAoBA,SAASpB,GAAsBtK,EAAMqP,EAAQ5D,EAAiBC,EAAiBE,GAC9E,IAAI0D,EAAKtP,EAAK2J,aACbrH,EAAY,CAAC,EACb2C,EAAmC,CAAC,EACpCsK,EAAgB,GAChBC,EAAc,GACdC,EAAkB,KAClBC,EAAe,KAOfC,EAAkB3P,EAAKmM,aAAa,aAAe,OACnDN,EAAYD,GAAWA,EAAQpB,SAC/BoF,EAAgBhE,GAAWA,EAAQnB,SACnCnH,EAGD,IAAK+C,EAAgB,CACpBrG,EAAK6P,gBAAgB,UACtB,CAEA,IAAKR,EAAQ,CACZ,OAAO3S,EAAY8D,QAAQ,GAC5B,CAEA,GAAIoP,EAAe,CAGlBtN,EAAUoL,GAAK7L,EAAM2H,OACtB,CAEA,IAAIsG,EAAYT,EAAOlG,cACvB,IAAI4G,EAAiBD,EAAUE,iBAE/B,IAAInD,GAAuBhB,EAAY/H,EAA2B9D,EAAMH,GAAU4E,UAGlF,GAAIoI,EAAqB,CACxBpB,EAAkB/O,EAAYsE,IAAI,CAACyK,EAAiBoB,IAClD/L,KAAK,SAASmP,GACd,OAAOxM,OAAOkE,OAAO,CAAC,EAAGsI,EAAiB,GAAIA,EAAiB,GAChE,EACF,CAEAxE,EAAkBA,EAAgB3K,KAAK,SAASrD,GAC/C,GAAIR,EAAcQ,GAAkB,CACnCA,EAAkB,IACnB,CAEA6F,EAAkB7F,EAKlB,IAAIC,EAAgBmC,EAAS,GAAK4E,UAElC,IAAK4B,EAAgB,CACpB,IAAK,IAAIjG,EAAI,EAAGA,EAAIJ,EAAK+B,WAAWzB,OAAQF,IAAK,CAChD,IAAI0B,EAAO9B,EAAK+B,WAAW3B,GAC1B7C,EAAQuE,EAAKG,KACbiO,EAAapO,EAAK6H,aAClBwG,EAAQJ,EAAexS,GACvBD,EAASwE,EAAKI,MAEf,GAAI0N,GAAiBlQ,EAAwBsC,SAASzE,GAAQ,CAC7D,QACD,CAQA,GAAIA,IAAU,OAASqS,EAAe,CAErCtN,EAAU/E,GAASiM,GAAM3H,EAAO7B,EAAM1C,EAEvC,MAAO,GAAIC,IAAU,QAAS,CAE7BgS,GAAiBjS,CAElB,MAAO,GAAIC,IAAU,WAAY,CAChC+E,EAAU/E,GAASD,CAEpB,MAAO,GAAIC,IAAU,eAAgB,CACpC+E,EAAU/E,GAASD,EACnBgF,EAAU,kBAAoBT,EAAMqG,gBAErC,MAAO,GAAK3K,IAAU,YAAc4S,GAAU5S,IAAU,iBAAmB,CAC1E,IAAKoS,EAAiB,CACrB,IAAI/R,EAAe3B,EAAY6B,MAAMR,EAAQuE,EAAMqG,iBAAiBkI,aAEpE,GAAIxS,EAAc,CACjB0E,EAAU+N,eAAiB/N,EAAU+N,gBAAkB,CAAC,EACxD/N,EAAU+N,eAAezS,EAAa0S,OAAS7L,WAAa7G,CAC7D,CACD,CACD,MAAO,GAAIL,IAAU,mBAAoB,CACxC,IAAKoS,EAAiB,CACrB,IAAIY,EAAoB,KAExB,IACCA,EAAoBtP,EAAqBuP,wBAAwBlT,EAAQuE,EAAMqG,iBAAiBkI,YAAa,KAC9G,CAAE,MAAOjM,GACRxH,EAAI8B,MAAMoD,EAAQ,IAAMsC,EAAEsM,QAC3B,CAEA,GAAIF,EAAmB,CACtBjO,EAAUoO,iBAAmBH,EAE7B,GAAItP,EAAqB0P,4BAA6B,CACrD1P,EAAqB0P,4BAA4BtB,EAAOlG,cAAczK,UAAW4D,EAAWT,EAAMqG,iBAAiBkI,YACpH,CACD,CACD,CACD,MAAO,GAAI7S,EAAMqT,QAAQ,MAAQ,EAAG,CACnCV,EAAapO,EAAK6H,aAClB,GAAIuG,IAAe7Q,EAAuB,CACzC,IAAI2L,EAAanM,EAAUiD,GAC3B0N,EAAYzR,KAAK,IAAI7B,EAAW,CAC/B2U,IAAK7F,EACL9I,MAAO9E,EAAgB,MAAOE,EAAQ0N,EAAYnJ,EAAMqG,iBAAiBkI,YAAa3S,EAAiBC,KAEzG,MAAO,GAAIwS,IAAe5Q,EAAwB,CACjDoQ,EAAepS,CAChB,MAAO,GAAI4S,GAAcA,EAAWY,WAAWrR,GAAgC,CAC9E9C,EAAIkL,MAAMhG,EAAQ,oDAAsDtE,EAAQ,cAAgBD,EAAS,KAC1G,MAAO,GAAI4S,IAAe1Q,GAA0BX,EAAUiD,KAAU,YAAa,CACpFqO,EAAQJ,EAAegB,QACvB,GAAIZ,GAASA,EAAMa,SAAW,GAAKb,EAAMc,OAAS,UAAW,CAC5D3O,EAAUyO,QAAU,KACrB,CACD,MAAO,GAAIb,IAAe/Q,GAClB+Q,IAAe1Q,GACfjC,EAAMuT,WAAW,UAAY,CAErC,KAAO,CAEN,IAAKrB,EAAiB,CACrBA,EAAkB,CAAC,CACpB,CACA,IAAKA,EAAgByB,eAAepP,EAAK6H,cAAe,CACvD8F,EAAgB3N,EAAK6H,cAAgB,CAAC,CACvC,CACA8F,EAAgB3N,EAAK6H,cAAc9K,EAAUiD,IAASA,EAAKqP,UAC3DxU,EAAIkL,MAAMhG,EAAQ,mDAAqDtE,EAAQ,cAAgBD,EAAS,4EAEzG,CAED,MAAO,GAAI6S,GAASA,EAAMa,SAAW,EAAmB,CAEvD1O,EAAU/E,GAASH,EAAgB+S,EAAMc,KAAM3T,EAAQC,EAAOsE,EAAMqG,iBAAiBkI,YAAa3S,EAAiBC,EAGpH,MAAO,GAAIyS,GAASA,EAAMa,SAAW,GAA8Bb,EAAMiB,SAAW,CAEnF,IAAKzB,EAAiB,CACrBrN,EAAU/E,GAASH,EAAgB+S,EAAMiB,SAAS,GAAI9T,EAAQC,EAAOsE,EAAMqG,iBAAiBkI,YAAa3S,EAC1G,CAED,MAAO,GAAI0S,GAASA,EAAMa,SAAW,EAA+B,CACnE,IAAKrB,EAAiB,CACrB,IAAI/R,EAAe3B,EAAY6B,MAAMR,EAAQuE,EAAMqG,iBAAiBkI,YAAa,MAAO,MAAO,MAAO,MAAO3S,GAC7G,GAAKG,EAAe,CACnB0E,EAAU/E,GAASK,CACpB,KAAO,CAENjB,EAAI8B,MAAMoD,EAAQ,kGAAoGtE,EAAQ,KAAOD,EAAS,KAC/I,CACD,CAED,MAAO,GAAI6S,GAASA,EAAMa,SAAW,EAA6B,CAEjE,IAAKrB,EAAiB,CACrBrN,EAAU/E,GAASyL,EAAS1L,EAC7B,CAED,MAAO,GAAI6S,GAASA,EAAMa,SAAW,EAA+B,CAEnE,IAAKrB,EAAiB,CACrBrN,EAAU/E,GAASD,EAAO+T,MAAM,WAAWC,OAAOvI,GAAUwI,IAAIvI,EACjE,CAED,MAAO,GAAImH,GAASA,EAAMa,SAAW,EAAgB,CAEpD,IAAKrB,EAAiB,CACrB,IAAI6B,EAAiB,GAErBjV,EAAqBuB,MAAMR,GAAQuH,QAAQ,SAAU4M,GACpD,IAAIC,EAAgBnV,EAAqBoV,oBAAoBF,EAAe5P,EAAMqG,iBAAiBkI,YAAa3S,GAChH,GAAIiU,EAAe,CAClBF,EAAezT,KAAK2T,EACrB,KAAQ,CACP/U,EAAIuS,QAAQrN,EAAQ,6BAAgC4P,EAAgB,2DACrE,CACD,GAEA,GAAID,EAAelR,OAAQ,CAC1BgC,EAAU/E,GAASiU,CACpB,CACD,CACD,MAAO,GAAIrB,GAASA,EAAMa,UAAY,EAAG,CAGxC,GAAIlB,EAAUnN,IAAI,yBAA2BpF,GAAS,QAAS,CAC9D+E,EAAU/E,GAASH,EAAgB+S,EAAMc,KAAM3T,EAAQC,EAAOsE,EAAMqG,iBAAiBkI,YAAa3S,EACnG,KAAO,CACNd,EAAIuS,QAAQrN,EAAQ,cAAgBtE,EAAQ,eAAiBuS,EAAUpR,UAAY,YAAcpB,EAAS,sBAC3G,CACD,KAAO,CACNT,EAAOU,IAAU,QAASsE,EAAQ,kCAAoCtE,EAAQ,eAAiBuS,EAAUpR,UAAY,YAAcpB,EAAS,MAC5I,GAAI2D,EAAqB2Q,aAAc,CACtC3Q,EAAqB2Q,aAAa,CACjCtT,QAAU0B,EACV6R,IAAM,CACLC,OAAO,wBACPrT,MAAO,KACPsT,KAAM,oBAAsBxU,EAAQ,eAAiBuS,EAAUpR,YAGlE,CACD,CACD,CAEA,GAAI+Q,EAAiB,CACpBD,EAAYzR,KAAK,IAAI7B,EAAW,CAC/B2U,IAAI,yBACJ3O,MAAOuN,IAET,CACA,GAAID,EAAYlP,OAAS,EAAG,CAC3BgC,EAAU0P,WAAaxC,CACxB,CACD,CAGA,GAAIvM,MAAMuK,QAAQ9P,GAAgB,CACjC,OAAOiD,QAAQK,IAAItD,GAAeoD,KAAK,WAAa,OAAOrD,CAAiB,EAC7E,CAEA,OAAOA,CACR,GAAGwU,MAAM,SAASC,GAGjB,IAAKA,EAAOC,WAAY,CAIvBD,EAAS,IAAIvT,MAAMsK,EAAgBjJ,EAAMkS,IACzCA,EAAOC,WAAa,KAGpBxV,EAAI8B,MAAMyT,EACX,CAKA,GAAIrS,GAAUgC,EAAM+F,mBAAqBtL,EAAkB8V,iBAAkB,CAC5E,MAAMF,CACP,CACD,GASA,IAAIxH,EAAiB9K,EAA0BC,EAAQwS,GAMvD,SAASA,EAAYrS,EAAM2K,EAAW1K,GACrC,IAAI0L,EAAe1L,EAASkN,YAC3BmF,EAAgBrS,EAASsS,gBACzB9G,EAAkBxL,EAASY,MAC3B6K,EAAkBzL,EAASiN,eAC3BtB,EAAU3L,EAASmN,OACnBoF,EACAC,EAGD,GAAI9H,EAAUC,WAAa,EAAsB,CAEhD,GAAID,EAAUhB,eAAiBpK,EAAyB,CACvD+C,EAAUzD,EAAU8L,IAAcA,EAAU+H,cAAc,KAC1D,OAAOjO,SACR,CAEA+N,EAAoB7H,EAAUhB,eAAiB2F,GAAMgD,GAAiBA,EAAczT,EAAU8L,IAE9F,GAAI6H,EAAmB,CAEtB,OAAO9H,EAAeC,EAAW,CAChCwC,YAAaqF,EACbD,gBAAiB,KACjB1R,MAAO4K,EACPyB,eAAgBxB,EAChB0B,OAAQxB,GAEV,MAAO,GAAID,EAAc,CAGxB,GAAIhB,EAAUwB,aAAa,aAAe,SAAW9F,EAAgB,CACpE,IAAIsM,EAAehI,EAEnBA,EAAYA,EAAUrB,YAEtBqJ,EAAa9C,gBAAgB,WAE7B4C,EAAyB,WACxB,IAAIG,EAAapJ,GAAM3H,EAAO8I,GAE9BlO,EAAsBoW,qBAAqB,CAC1CC,UAAWF,EACXG,SAAU,WAIT,IAAIC,EAAanT,EACjBA,EAAS,MAET,IACC,OAAOwS,EAAYrS,EAAM2S,EAAc,CACtCxF,YAAaxB,EACb4G,gBAAiBD,EACjBzR,MAAOnE,EAAY8D,QAAQ8C,GAC3B4J,eAAgBxB,IACdnL,QACJ,CAAE,QAGDV,EAASmT,CACV,CACD,GAEF,EAEA,GAAInR,EAAMmM,qBAAsB,CAC/BnM,EAAMmM,qBAAqByE,EAC5B,KAAO,CACNA,GACD,CAIA9H,EAAUkF,gBAAgB,WAC1BoD,GAAgBtI,EAAW,YAC5B,CAEA,GAAKrI,EAAUqJ,EAAa1J,cAEpBK,EAAUqJ,EAAa1J,MAAMiR,OAAS,SAAU,CACvDxH,EAAkB,CACjByB,YAAaxB,EAAa1J,KAC1ByL,GAAIpL,EAAUoL,IAIf,GAAIkC,GAAiBjE,EAAa1J,OAAS,UAAW,CACrD2J,EAAUA,GAAW,CAAC,EACtBA,EAAQK,aAAe,IACxB,CACD,CAIA,OAAOpB,GAAeF,EAAWc,EAAiBC,EAAiBC,EAAcC,GAAS9K,KAAK,SAAS8N,GACvG,IAAK,IAAIuE,EAAI,EAAGA,EAAIvE,EAAUtO,OAAQ6S,IAAK,CAC1C,IAAI1F,EAAWmB,EAAUuE,GAEzB,IAAIlR,EAAO0J,EAAa1J,KAIxB,GAAIwL,EAAS5K,kBAAmB,CAC/B,IAAKP,EAAUL,GAAO,CACrBK,EAAUL,GAAQ,EACnB,CAEA,IAAImR,EAAsBnO,EAAiChD,GAC3D,IAAKmR,EAAqB,CACzBA,EAAsBnO,EAAiChD,GAAQ,EAChE,CAEAwL,EAAS4F,MAAQ/Q,EAAUL,GAAM3B,OACjCmN,EAAS6F,gBAAkBrR,EAC3BwL,EAAS8F,iCAAmC7H,GAAmBA,EAAgBgC,GAC/ED,EAAS+F,0BAA4B9H,GAAmBA,EAAgByB,YAGxE,IAAIsG,EAAQL,EAAoBA,EAAoB9S,OAAS,GAC7D,GAAImT,EAAO,CACVA,EAAMC,aAAejG,CACtB,CAEA2F,EAAoBrV,KAAK0P,EAC1B,MAAO,GAAI9B,EAAagI,SAAU,CAEjC,IAAKrR,EAAUL,GAAO,CACrBK,EAAUL,GAAQ,EACnB,CACA,UAAWK,EAAUL,GAAMiR,OAAS,SAAU,CAC7CrW,GAAQyF,EAAUL,GAAM2R,SAAU,uDAClCtR,EAAUL,GAAM2R,SAAWnG,CAC5B,KAAO,CACNnL,EAAUL,GAAMlE,KAAK0P,EACtB,CACD,KAAO,CAEN5Q,GAAQyF,EAAUL,GAAO,qEACzBK,EAAUL,GAAQwL,CACnB,CACD,CACA,OAAOmB,CACR,EACD,KAAO,CACN,MAAM,IAAIjQ,MAAMsK,EAAgB0B,EAAW,2EAA6EmF,EAAU+D,kBACnI,CACD,MAAO,GAAIlJ,EAAUC,WAAa,EAAmB,CACpD,GAAIgB,GAAWA,EAAQpB,SAAU,CAChCK,GAAeF,EAAWc,EAAiBC,EAAiBC,EAAcC,EAC3E,KAAO,CACN,IAAIS,EAAe1B,EAAUpB,aAAeoB,EAAUxD,KACtD,GAAIkF,GAAgBA,EAAa8B,OAAQ,CACxC,MAAM,IAAIxP,MAAMsK,EAAgB0B,EAAW,iIAC5C,CACD,CACD,CAED,CAGA,IAAIgB,GAAemE,EAAUgE,wBAC7B,IAAIxB,GAAgBxC,EAAUiE,qBAE9B,OAAOrJ,EAAe1K,EAAM,CAC3BmN,YAAaxB,GACb4G,gBAAiBD,GACjBzR,MAAO4K,EACPyB,eAAgBxB,EAChB0B,OAAQxB,IACN9K,KAAK,WAEP,IAAIkT,EACJ,IAAI9O,EAAYxI,EAAY8D,UAC5B,IAAIyT,EAAmBvX,EAAY8D,UACnC,IAAInD,EAAQ2C,EAAKmM,aAAa,QAE9B,IAAI+H,EAAkB/X,EAAUgY,qBAAqBtS,GACrD,IAAIuS,EAAoBF,GAAmBA,EAAgBvR,IAAI,qCAE/D,GAAI0D,EAAgB,CACnB,IAAKwF,GAAa7L,EAAKqU,aAAa,MAAO,CAC1CC,GAAMzS,EAAO7B,EACd,CACD,MAAO,IAAK4P,GAAiBP,EAAOlG,cAAcxG,IAAI,wBAAyB,CAC9E,IAAI4R,EAAuB,WAC1B,IAAKlF,EAAOmF,SAAWlS,EAAUmS,SAAU,CAE1CnS,EAAUmS,SAAW,UAAYpF,EAAOlG,cAAczK,UAAU4C,QAAQ,MAAO,IAChF,CAGA,GAAI8S,GAAqBvU,EAAQ,CAEhC,GAAIyC,EAAUZ,QAAU,MAAO,CAC9B,MAAM,IAAI/C,MACT,0KACA,uBAAyBuV,EAAgB/K,cAAcuL,mBAAqB,eAAiBpS,EAAUmS,SAAW,KAEpH,CAEAnS,EAAU2O,KAAO5B,EAAOmF,QAAUnX,EAClC4W,EAAmB7X,EAAKuY,OAAOrS,EAChC,KAAO,CAEN,GAAI+M,EAAOlG,cAAcxG,IAAI,4BAA8Bd,EAAM+F,iBAAkB,CAClFtF,EAAUyL,eAAiBlM,EAAM+F,gBAClC,CACA,OAAOxL,EAAKwY,QAAQtS,EAAWmC,UAAW4K,EAAOmF,QAAUnX,EAC5D,CACD,EAGA,GAAIwE,EAAMmM,qBAAsB,CAG/BgG,EAAsBnS,EAAMmM,qBAAqBuG,EAClD,KAAO,CACNP,EAAsBO,GACvB,CAED,MAAO,GAAIlF,EAAOlG,cAAcxG,IAAI,yBAA2B9C,EAAQ,CAOtE,GAAIxC,IAAUhB,EAASwY,GAAI,CAC1BvS,EAAUyL,eAAiBlM,EAAM+F,gBAClC,CAEA,IAAIkN,EAAgB,uBACpB,IAAIC,EAAWlZ,IAAIC,GAAG0I,QAAQsQ,GAG9BxS,EAAUL,KAAOK,EAAUL,MAAQK,EAAU0S,aAE7C,GAAID,EAAU,CACbd,EAAmBc,EAASE,KAAK3S,EAClC,KAAO,CACN2R,EAAmB,IAAItT,QAAQ,SAAUH,EAAS4D,GACjDvI,IAAIC,GAAG0I,QAAQ,CAACsQ,GAAgB,SAAUC,GACzCA,EAASE,KAAK3S,GAAWxB,KAAK,SAAUoU,GACvC1U,EAAQ0U,EACT,EACD,EAAG9Q,EACJ,EACD,CACD,KAAO,CAEN,IAAI+Q,EAAmB,WACtB,IAAIC,EAEJ,GAAIxF,EAAe,CAClBwF,EAAYvT,EACZ,IAAKhC,EAAQ,CAQZ,GAAI4C,GAAgBA,EAAaD,SAAU,CAC1CiB,OAAOC,KAAKpB,GAAWuC,QAAQ,SAASjB,GACvC,GAAInB,EAAaD,SAAS0O,eAAetN,GAAO,CAC/CnB,EAAaD,SAASoB,GAAQtB,EAAUsB,UACjCtB,EAAUsB,EAClB,CACD,EACD,CACD,CACA/B,EAAMwT,cAAc/S,EACrB,MAAO,GAAIT,EAAMmM,qBAAsB,CAEtCoH,EAAYvT,EAAMmM,qBAAqB,WACtC,IAAIoH,EAAY,IAAI/F,EAAO/M,GAC3B,OAAO8S,CACR,EACD,KAAO,CACNA,EAAY,IAAI/F,EAAO/M,EACxB,CAGA4C,EAAYH,EAAgClF,EAAQuV,EAAWnQ,GAE/D,OAAOmQ,CACR,EAEA,GAAI3S,GAAgBA,EAAa6S,sBAAuB,CACvDtB,EAAsBvR,EAAa6S,sBAAsBH,EAC1D,KAAO,CACNnB,EAAsBmB,GACvB,CACD,CAEA,OAAOlB,EAAiBnT,KAAK,SAAU8B,GACtC,OAAOA,GAAYoR,CACpB,GAAGlT,KAAK,SAAUyU,GACjB,GAAIhG,GAAiBgG,EAAeC,cAAe,CAElDD,EAAeC,cAAcjG,EAC9B,CAEA,IAAKgG,EAAgB,CACpBA,EAAiB,EAClB,MAAO,IAAKtS,MAAMuK,QAAQ+H,GAAiB,CAC1CA,EAAiB,CAACA,EACnB,CAGA,GAAItU,EAAqB2Q,cAAgB2D,EAAgB,CACxD,IAAK,IAAInV,EAAI,EAAGqV,EAAUF,EAAejV,OAAQF,EAAIqV,EAASrV,IAAK,CAClE,IAAIgV,EAAYG,EAAenV,GAC/B,GAAIgV,GAAaA,EAAU5L,QAAS,CAEnC,IAAIkM,EAAgBzU,EAAqB2Q,aAAa,CAAEtT,QAAS0B,EAAM6R,IAAK,CAAEC,OAAQ,wBAAyB6D,OAAQ3V,EAAKmM,aAAa,MAAOyJ,UAAWR,EAAU5L,WACpKqM,EAAQnG,EAAeA,EAAe,IAAM,GAC7CmG,GAASH,EAETzU,EAAqB2Q,aAAakE,eAAeV,EAAU5L,QAASqM,EACrE,CACD,CACD,CAEA,GAAI/N,EAAa,CAChByN,EAAe1Q,QAAQ,SAAUuQ,GAChC,GAAItF,EAAUiG,4BAA6B,CAC1C,IAAIC,EAAShW,EAAKiW,qBAAqBb,EAAUjM,cAAc4M,+BAC/D,IAAK,IAAI3V,EAAI,EAAGA,EAAI4V,EAAO1V,OAAQF,IAAK,CACvCJ,EAAK6I,YAAYmN,EAAO,GACzB,CACD,CACAZ,EAAUpN,6BAA+B,CACxClJ,QAASkB,EACTiI,YAAapG,EAAMmG,6BAA6BC,YAChD+M,aAAclF,EAAUpR,YAAc,uBAAyB4D,EAAU,gBAAkB,KAE7F,EACD,CAEA,OAAO4C,EAAUpE,KAAK,WAErB,OAAOyU,CACR,EACD,EACD,EAED,CAEA,SAAStC,GAAgBjT,EAAMiC,GAC9B,IAAIiU,EAAUpQ,EAAoB9F,EAAMR,EAAwB+G,GAChEvG,EAAKoI,eAAe5I,EAAwB0W,EAAU,IAAMjU,EAAM,OACnE,CAEA,SAASuH,GAAM3H,EAAO/C,EAAS8H,GAC9B,GAAI9H,EAAQkF,eAAexE,EAAwB,MAAO,CACzD,OAAOV,EAAQqN,aAAa,KAC7B,KAAO,CACN,OAAOnD,EAASpC,EAAMA,EAAM9H,EAAQqN,aAAa,MAClD,CACD,CAEA,SAASmI,GAAMzS,EAAO/C,GACrBA,EAAQ2N,aAAa,KAAMzD,EAASlK,EAAQqN,aAAa,QACzD8G,GAAgBnU,EAAS,KAC1B,CAED,CAWAmC,EAAqB0P,4BAA8B,KAWnD1P,EAAqBuP,wBAA0B,SAAS2F,EAAU3Y,EAAU4Y,GAC3E,IAAIC,EACHC,EAAW,CAAC,EACZC,EAAWta,EAAY6B,MAAMqY,EAAU3Y,GAExC,SAASgZ,EAAeC,GAGvB,GAAIA,EAAWnW,OAAS,IAAM,EAAG,CAChC,MAAM,IAAI3B,MAAM,+BACjB,CAGA,IAAK,IAAIyB,EAAI,EAAGA,GAAKqW,EAAWnW,OAAQF,EAAIA,EAAI,EAAG,CAClD,UAAWqW,EAAWrW,EAAI,IAAM,SAAU,CACzC,MAAM,IAAIzB,MAAM,gCACjB,CAEA,GAAI8X,EAAWrW,GAAI,CAClB,UAAYqW,EAAWrW,IAAM,UAAcqW,EAAWrW,IAAM,IAAM,CACjE,MAAM,IAAIzB,MAAM,wBACjB,CACD,CACD,CACD,CAIA,GAAI4X,EAAU,CACb,IAAKA,EAASG,UAAW,CACxBL,EAAOE,EACPA,EAAW,CAACI,MAAO,CAACN,GACrB,KAAO,CAENG,EAAeD,EAASG,UAAUE,cAEnC,CAEA,IAAK,IAAIxW,EAAI,EAAGA,EAAImW,EAASI,MAAMrW,OAAQF,IAAK,CAC/CiW,EAAOE,EAASI,MAAMvW,GACtBkW,EAASD,EAAK/F,OAASgG,EAASD,EAAK/F,SAAW8F,EAAyB,GAAK,MAE9E,GAAInT,MAAMuK,QAAQ8I,EAASD,EAAK/F,QAAS,CACxCgG,EAASD,EAAK/F,OAAOvS,KAAKsY,EAC3B,KAAO,CAENC,EAASD,EAAK/F,OAAS+F,CACxB,CACD,CACD,CAEA,OAAOC,CACR,EAEA,OAAOrV,CAER,EAAkB"}