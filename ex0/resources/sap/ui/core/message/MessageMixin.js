/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Element","sap/ui/core/library","sap/base/Log","sap/ui/core/LabelEnablement"],function(e,t,i,a){"use strict";var s=t.ValueState;var n=function(){this.refreshDataState=r;this.fnDestroy=this.destroy;this.destroy=g};function r(t,n){if(n.getChanges().messages&&this.getBinding(t)&&this.getBinding(t).isA("sap.ui.model.PropertyBinding")){var r=n.getMessages();var g=a.getReferencingLabels(this);var o=g[0];var l=false;r.forEach(function(t){if(g&&g.length>0){var a=e.getElementById(o);if(a.getMetadata().isInstanceOf("sap.ui.core.Label")&&a.getText){if(t.getAdditionalText()!==a.getText()){t.setAdditionalText(a.getText());l=true}}else{i.warning("sap.ui.core.message.Message: Can't create labelText."+"Label with id "+o+" is no valid sap.ui.core.Label.",this)}}if(t.getControlId()!==this.getId()){t.addControlId(this.getId());l=true}}.bind(this));var d=sap.ui.require("sap/ui/core/Messaging");if(d){var h=d.getMessageModel();h.checkUpdate(l,true)}if(r&&r.length>0){var u=r[0];if(s[u.type]){this.setValueState(u.type);this.setValueStateText(u.message)}}else{this.setValueState(s.None);this.setValueStateText("")}}}function g(){var e=this.getId();function t(t){t.removeControlId(e)}for(var i in this.mBindingInfos){var a=this.mBindingInfos[i];if(a.binding){var s=a.binding.getDataState();var n=s.getAllMessages();n.forEach(t)}}this.fnDestroy.apply(this,arguments)}return n},true);
//# sourceMappingURL=MessageMixin.js.map