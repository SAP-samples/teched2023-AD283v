/*!
* OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
*/
sap.ui.define(["sap/base/config","sap/base/Eventing","sap/base/Log","sap/base/i18n/LanguageTag","sap/base/i18n/date/CalendarType","sap/base/i18n/date/TimezoneUtils"],function(e,a,n,t,r,g){"use strict";var i;var u=e.getWritableInstance();let o;var l=false;var s={"ar-SA":r.Islamic,fa:r.Persian,th:r.Buddhist,default:r.Gregorian};var f={ZH:"zh-Hans",ZF:"zh-Hant",SH:"sr-Latn","6N":"en-GB","1P":"pt-PT","1X":"es-MX","3F":"fr-CA","1Q":"en-US-x-saptrc","2Q":"en-US-x-sappsd","3Q":"en-US-x-saprigi"};var p={iw:"he",ji:"yi"};var c=v(f);function v(e){return Object.keys(e).reduce(function(a,n){a[e[n]]=n;return a},{})}function d(e){var a;if(e){var n=/-(saptrc|sappsd|saprigi)(?:-|$)/i.exec(e);a=n&&"en-US-x-"+n[1].toLowerCase()}return a}function T(e){var a=/\$([-a-z0-9A-Z._]+)(?::([^$]*))?\$/.exec(e);return a&&a[2]?a[2].split(/,/):null}var L=T("$cldr-rtl-locales:ar,fa,he$")||[];var h=T("$core-i18n-locales:,ar,bg,ca,cs,da,de,el,en,en_GB,es,es_MX,et,fi,fr,hi,hr,hu,it,iw,ja,kk,ko,lt,lv,ms,nl,no,pl,pt,ro,ru,sh,sk,sl,sv,th,tr,uk,vi,zh_CN,zh_TW$");function y(e){var a;if(e&&typeof e==="string"){e=f[e.toUpperCase()]||e;try{a=new t(e)}catch(e){}}return{languageTag:a,SAPLogonLanguage:e}}function m(e){var a;if(e){a=new t(e)}return a}function S(){return globalThis.navigator?globalThis.navigator.languages&&globalThis.navigator.languages[0]||globalThis.navigator.language||"en":(new Intl.Collator).resolvedOptions().locale||"en"}function b(e,a){if(!e){throw new Error(a)}}function z(){return Array.prototype.filter.call(arguments,Boolean).join("-")}function x(e){var a=g.isValidTimezone(e);if(!a){n.error("The provided timezone '"+e+"' is not a valid IANA timezone ID."+" Falling back to browser's local timezone '"+g.getLocalTimezone()+"'.")}return a}var A={attachChange:function(e){A.attachEvent("change",e)},detachChange:function(e){A.detachEvent("change",e)},getActiveTerminologies:function(){return u.get({name:"sapUiActiveTerminologies",type:e.Type.StringArray,defaultValue:undefined,external:true})},getLanguage:function(){var a,t;if(o){return o}var r=u.get({name:"sapUiLanguage",type:e.Type.String,external:true});var g=u.get({name:"sapLocale",type:e.Type.String,external:true});var i=u.get({name:"sapLanguage",type:e.Type.String,external:true});if(g){a=m(g);t=g}else if(i){if(!r&&!l){n.warning("sap-language '"+i+"' is not a valid BCP47 language tag and will only be used as SAP logon language");l=true}var s=y(i);a=s.languageTag;t=s.languageTag&&s.SAPLogonLanguage}if(!a){if(r){a=m(r);t=r}else{t=S();a=m(r)}}return t},getModernLanguage:function(e){return p[e]||e},setLanguage:function(a,n){var t=m(a),r=A.getRTL();b(t,"Configuration.setLanguage: sLanguage must be a valid BCP47 language tag");b(n==null||typeof n==="string"&&/^[A-Z0-9]{2,2}$/i.test(n),"Configuration.setLanguage: sSAPLogonLanguage must be null or be a string of length 2, consisting of digits and latin characters only");n=n||"";if(t.toString()!=A.getLanguageTag().toString()||n!==u.get({name:"sapLanguage",type:e.Type.String,external:true})){u.set("sapLanguage",n);o=a;i={};i.language=A.getLanguageTag().toString();var g=A.getRTL();if(r!=g){i.rtl=g}w()}},getTimezone:function(){var a=u.get({name:"sapTimezone",type:e.Type.String,external:true,defaultValue:u.get({name:"sapUiTimezone",type:e.Type.String,external:true})});if(!a||!x(a)){a=g.getLocalTimezone()}return a},setTimezone:function(e){b(e==null||typeof e==="string","Configuration.setTimezone: sTimezone must be null or be a string");var a=A.getTimezone();e=e===null||!x(e)?undefined:e;u.set("sapTimezone",e);if(A.getTimezone()!==a){i={};i.timezone=A.getTimezone();w()}return this},getLanguageTag:function(){var e=new t(A.getLanguage());var a=e.toString();var n=A.getModernLanguage(e.language);var r=e.script;if(n==="sr"&&r==="Latn"){a=a.replace("sr-Latn","sh")}else{a=a.replace(e.language,n)}return new t(a)},getRTL:function(){return u.get({name:"sapRtl",type:e.Type.Boolean,external:true,defaultValue:u.get({name:"sapUiRtl",type:e.Type.Boolean,defaultValue:function(){return C(A.getLanguageTag())},external:true})})},setRTL:function(e){b(e===null||typeof e==="boolean","bRTL must be null or a boolean");e=e===null?undefined:e;var a=A.getRTL();u.set("sapRtl",e);var n=A.getRTL();if(a!=n){i={};i.rtl=n;w()}return this},_getSAPLogonLanguage:function(e){var a=e.language||"";if(a.indexOf("-")>=0){a=a.slice(0,a.indexOf("-"))}a=A.getModernLanguage(a);if(a==="zh"&&!e.script&&e.region==="TW"){return"ZF"}return c[z(a,e.script)]||c[z(a,e.region)]||c[d(e.privateUse)]||a.toUpperCase()},getSAPLogonLanguage:function(){var a,t=u.get({name:"sapLanguage",type:e.Type.String,external:true}).toUpperCase();try{a=y(t).languageTag}catch(e){}if(t&&!a){n.warning("sap-language '"+t+"' is not a valid BCP47 language tag and will only be used as SAP logon language")}return t||A._getSAPLogonLanguage(A.getLanguageTag())},getPreferredCalendarType:function(){var e=A.getLanguageTag();return s[e.language+"-"+e.region]||s[e.language]||s["default"]},getLanguagesDeliveredWithCore:function(){return h},getSupportedLanguages:function(){var a=e.get({name:"sapUiXxSupportedLanguages",type:e.Type.StringArray,external:true});if(a.length===0||a.length===1&&a[0]==="*"){a=[]}else if(a.length===1&&a[0]==="default"){a=this.getLanguagesDeliveredWithCore()||[]}return a}};function C(e){var a=e.language||"";a=A.getModernLanguage(e.language);var n=e.region||"";if(n&&L.indexOf(a+"_"+n)>=0){return true}return L.indexOf(a)>=0}function w(){A.fireEvent("change",i);i=undefined}a.apply(A);return A});
//# sourceMappingURL=Localization.js.map